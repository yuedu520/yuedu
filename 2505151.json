[{"bookSourceGroup":"音乐","bookSourceName":"时代音乐网","bookSourceType":1,"bookSourceUrl":"http:\/\/www.78497.com\/","customOrder":1,"enabled":true,"enabledCookieJar":true,"enabledExplore":true,"exploreUrl":"@js:\neval(String(source.variableComment))\n\nconst host = \"http:\/\/www.78497.com\"\nconst list = []\n\n \/\/ 添加榜单标题\n  list.add(\"榜单\", null, 1, 1)\n  \/\/ 添加榜单单内容\n  list.add(\"热门榜单\", \"https:\/\/m.baidu.com\/#top1\", 1, 0.4)\n  list.add(\"特色音乐\", \"https:\/\/m.baidu.com\/#top2\", 1, 0.4)\n  \ncategories.forEach(category => {\n  let items = category.data.requestFilters.split(\"\\n\")\n  \n  \/\/ 添加歌单标题\n  list.add(category.title, null, 0, 1)\n  \n  \/\/ 添加歌单内容\n  items.forEach(item => {\n    let [title, id] = item.split(\"::\")\n    let url = host + category.urlTemplate.replace(\"$id\", id)\n    list.add(title, url, 0, 0.29)\n  })\n})\n\nJSON.stringify(list)","header":"{\"User-Agent\":\"Mozilla\/5.0 (Linux; U; Android 9; zh-cn; MIX 2S Build\/PKQ1.180729.001) AppleWebKit\/537.36 (KHTML, like Gecko) Version\/4.0 Chrome\/100.0.4896.127 Mobile Safari\/537.36 XiaoMi\/MiuiBrowser\/16.7.35 swan-mibrowser\"}","jsLib":"","lastUpdateTime":"1747303276571","loginUrl":"\/","respondTime":180000,"ruleBookInfo":{"coverUrl":"[property=\"og:image\"]@content","intro":"@js:\nconst list = java.getElements(\".play_list li\").toArray();\nfor (let i = 0; i < list.length; i++) {\n    let item = list[i];\n    let title = item.select(\".url\").text().trim();\n    let size = item.select(\".size\").text().trim();\n    list[i] = `\\u3000\\u3000${i + 1}. ${title}  ${size}`;\n}\n\nlist.join(\"\\n\");"},"ruleContent":{"content":"@js:\nfunction player(type, id){\n    const url =  \"http:\/\/www.78497.com\/style\/js\/play.php,\";\n    const options = {\n      body: `type=${type}&id=${id}`,\n      headers:{\n        \"Content-Type\":\"application\/x-www-form-urlencoded\",\n        \"Referer\":\"http:\/\/www.78497.com\",\n        \"User-Agent\":\"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/137.0.0.0 Safari\/537.36 Edg\/137.0.0.0\"\n     },\n    method: \"POST\"\n  }\n  return this.java.ajax(url+JSON.stringify(options))\n}\n\nconst code = result.match(\/lkid.*?;(player.*?);\/)?.[1];\nJSON.parse(eval(code)).url","sourceRegex":"","title":""},"ruleExplore":{"bookList":"@js:\nconst push = (arr, str, url) => {\n  str.split(\"\\n\").forEach(item => {\n  \t  let [title, id] = item.split(\"::\")\n  \t  arr.push(`<li class=\"name\"><a href=\"${url.replace('$id', id)}\">${title}<\/a><\/li>`)\n  \t})\n}\n\nconst top1 = \"酷狗飙升榜::kugou\\nTOP排行榜::top\\n抖音热歌榜::douyin\\n快手热歌榜::kuaishou\\nDJ热歌榜::djtop\\n音乐分享榜::share\\n内地排行榜::ndtop\\n香港排行榜::hktop\\n台湾排行榜::twtop\\n欧美排行榜::ustop\\n韩国排行榜::krtop\";\nconst top2 = \"ACG新歌榜::newacg\\n电音热歌榜::dytop\\n综艺新歌榜::newzy\\n说唱先锋榜::sctop\\n影视金曲榜::ystop\\n粤语金曲榜::yytop\\n欧美金曲榜::omtop\\n音乐人原创榜::kkyc\\n酷狗雷达榜::leida\\n80后热歌榜::blhot\\n90后热歌榜::jlhot\";\n\nconst bookList = [];\nconst host = \"http:\/\/www.78497.com\"\nconst topUrl = host + \"\/list\/$id.html\";\nif(\/#top1\/.test(baseUrl)){\n  push(bookList, top1, topUrl)\n} else if(\/#top2\/.test(baseUrl)){\n  push(bookList, top2, topUrl)\n} else {\n  let lst = java.getElements(\".lkpic_list li,.singer_list li\")\n  for(let i = 0; i < lst.size(); i++){\n  \t  bookList.push(lst.get(i).html())\n  \t}\n}\n\nbookList","bookUrl":".name a@href","coverUrl":"img@src","intro":"","name":".name a@text"},"ruleSearch":{"bookList":"html","bookUrl":"{{baseUrl}}","checkKeyWord":"起风了","coverUrl":".play_list img.0@src","intro":"@js:\nconst doc = org.jsoup.Jsoup.parse(result);\nconst list = doc.select(\".play_list li\").toArray();\nfor (let i = 0; i < list.length; i++) {\n    let item = list[i];\n    let title = item.select(\".url\").text().trim();\n    let size = item.select(\".size\").text().trim();\n    list[i] = `${i + 1}. ${title}  ${size}`;\n}\n\nlist.join(\"\\n\");","name":"title@text##搜索结果.*"},"ruleToc":{"chapterList":".play_list li","chapterName":".url@title||.url@text##mp3下载","chapterUrl":".url@href","nextTocUrl":"text.下一页@href@js:\n(() => {\n  let url = result[0]\n  let count = 3;\n  let num = url?.match(\/\\\/(\\d)\\.html\/)?.[1] || 10000;\n  return num <= count ? url : null;\n})()","updateTime":".size@text"},"searchUrl":"\/so.php?wd={{key}}&page={{page}}","variableComment":"\/\/ 注意！以下内容不了解不要轻易改动\nArray.prototype.add = function (title, url, flexGrow, flexBasis) {\n  return this.push({\n    title,\n    url,\n    style: {\n      \"layout_flexGrow\": flexGrow,\n      \"layout_flexBasisPercent\": flexBasis\n    }\n  })\n}\n\n\/\/ 从益达移植过来的更多键\nvar hot = {\"requestFilters\":\"热门歌单::hot\\n推荐歌单::index\\n国语经典::jyjd\\n睡前推荐::sqtj\\n纯音精选::cyjx\\n运动必备::ydbb\\n网络伤感::wlsg\\n店铺精选::dpjx\\n流行专区::lxzq\\n电子专区::dyzq\\n摇滚专区::ygzq\"}\nvar times = {\"requestFilters\":\"Soul专区::soul\\n民谣专区::myzq\\nDJ歌曲::djgq\\n古典专区::gdzq\\n乡村专区::xczq\\n爵士专区::jszq\\n70后::qlhou\\n80后::blhou\\n90后::jlhou\\n00后::llhou\"}\nvar singers = {\"requestFilters\":\"华语歌手::huayu\\n韩国歌手::hanguo\\n日本歌手::ribrn\\n欧美歌手::oumei\\n其他::other\"}\nvar group = {\"requestFilters\":\"男歌手::male\\n女歌手::girl\\n乐队组合::band\"}\n\n\/\/分类配置信息\nvar categories = [\n  {\n    title: \"热门歌单\",\n    data: hot,\n    urlTemplate: \"\/gdlist\/$id\/{{page}}.html\"\n  },\n  {\n    title: \"年代歌单\",\n    data: times,\n    urlTemplate: \"\/gdlist\/$id\/{{page}}.html\"\n  },\n  {\n    title: \"歌手分类\",\n    data: singers,\n    urlTemplate: \"\/singers\/$id\/index\/{{page}}.html\"\n  },\n  {\n    title: \"歌手组合\",\n    data: group,\n    urlTemplate: \"\/singers\/huayu\/$id\/{{page}}.html\"\n  }\n]","weight":0}]