[
  {
    "bookSourceComment": "æ¼«ç”»å‘å¸ƒé¡µï¼šhttps://wn01.link/\n1âƒ£ï¸æ— éœ€ç¿»å¢™ï¼Œå›½å†…ç›´è¿\n2âƒ£ï¸æ¼«ç”»æ²¡åŠ è½½å‡ºæ¥å°è¯•åˆ·æ–°ä¸€ä¸‹\n3âƒ£ï¸è„¸é»‘ğŸŒšåˆ·ä¸å‡ºæ¥çš„ï¼Œåˆ«ç”¨wifiï¼Œç”¨æµé‡çœ‹ã€‚",
    "bookSourceGroup": "æ¼«ç”»",
    "bookSourceName": "ç»…å£«æ¼«ç”»( ä¼˜+++ )",
    "bookSourceType": 2,
    "bookSourceUrl": "https://www.wnacg.ru/",
    "customOrder": 472,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[\n  {\n    \"title\": \"ğŸ”–æ’è¡ŒğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"æœˆæ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-month.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å‘¨æ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-week.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"æ—¥æ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-day.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n    {\n    \"title\": \"ğŸ”–åŒäººå¿—ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ğŸ”–éŸ©æ¼«ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n\n  {\n    \"title\": \"ğŸ”–å•è¡Œæœ¬ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ğŸ”–æ‚å¿—&çŸ­ç¯‡ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  }\n]",
    "header": "@js:\nJSON.stringify({\n\"Referer\":baseUrl\n})",
    "lastUpdateTime": 1763999238954,
    "respondTime": 180000,
    "ruleBookInfo": {
      "coverUrl": "//div[@class='asTB']/div[@class='asTBcell uwthumb']/img/@src##////##https://",
      "downloadUrls": "//div[@id='ads']/a[1]/@href",
      "intro": "//div[@class='asTBcell uwconn']/p/text()@js:result.split('\\n').join('')",
      "kind": "//div[@class='addtags']/a[@class='tagshow']/text()",
      "wordCount": "//div[@class='asTBcell uwconn']/label/text()@js:\nconst infoSplit =  result.split('\\n')\nconst info = []\nfor(var i  = 0;i<infoSplit .length;i++){\ninfo.push(infoSplit[i].split('ï¼š')[1])\n}\ninfo.join('  ')"
    },
    "ruleContent": {
      "content": "//span[@id='imgarea']/a/img/@src##//##https://@js:\n\n// è·å–å‰ç¼€URL\nconst regexStr = \"^https://img5\\\\.qy0\\\\.ru/data/\\\\d+/\\\\d+/\";\nconst regex = new RegExp(regexStr, \"g\");\nconst prefixUrlMatch = result.match(regex);\nconst prefixUrl = prefixUrlMatch ? prefixUrlMatch[0] : \"\";\n\n// è§£æå›¾ç‰‡ä¿¡æ¯æ•°ç»„ï¼ˆå®¹é”™ï¼šæ•°ç»„ä¸ºç©ºæ—¶è®¾ä¸º[]ï¼‰\nconst imgInfoList = JSON.parse(java.get('imgInfoList') || '[]');\n\n// æ‹¼æ¥å®Œæ•´å›¾ç‰‡é“¾æ¥ï¼ˆç›´æ¥ä½¿ç”¨åŸå§‹imgNameï¼‰\nconst imgUrlList = [];\nif (prefixUrl) {\n    imgInfoList.forEach(item => {\n        // ä»…åšç©ºå€¼å®¹é”™ï¼Œä¸ä¿®æ”¹imgNameåŸå§‹å€¼\n        const imgName = item.imgName || '';\n        const imgExtension = item.imgExtension || 'jpg';\n        const fullImgUrl = prefixUrl + imgName + \".\" + imgExtension;\n        imgUrlList.push(fullImgUrl);\n    });\n}\n\n// è§„åˆ™è¾“å‡ºæ‹¼æ¥åçš„imgæ ‡ç­¾\nimgUrlList.map(x=>'<img src=\\\"'+x+'\\\">')\n.join(\"\\n\")",
      "imageStyle": "FULL"
    },
    "ruleSearch": {
      "bookList": "//div[@class='gallary_wrap']/ul/li",
      "bookUrl": "//div[@class='info']/div[@class='title']/a/@href,{\"webView\":true}",
      "checkKeyWord": "å…ƒé­”æ³•",
      "coverUrl": "//li/div[1]/a/img/@src",
      "intro": "//li/div[@class='info']/div[@class='info_col']/text()@js:\nvar timeStr = result.split(\"ï¼Œ\")[1] || \"\";\nvar updateTime = timeStr.match(/å‰µå»ºæ–¼(\\d{4}-\\d{2}-\\d{2}\\s\\d{2}:\\d{2}:\\d{2})/)?.[1] || \"æ— æ—¶é—´\";\n'æ›´æ–°æ—¶é—´:  ' + updateTime;",
      "kind": "//li/div[1]/@class@js:\nif (result[0].indexOf('cate-1') !== -1) { \n    'åŒäººå¿—/æ±‰åŒ–'; // åŠ returnï¼Œå¦åˆ™æ— è¿”å›å€¼\n} else if (result[0].indexOf('cate-12') !== -1) {\n    'åŒäººå¿—/æ—¥è¯­'; \n} else if (result[0].indexOf('cate-9') !== -1) {\n    'å•è¡Œæœ¬/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-13') !== -1) {\n    'å•è¡Œæœ¬/æ—¥è¯­';\n} else if (result[0].indexOf('cate-10') !== -1) {\n    'æ‚å¿—&çŸ­ç¯‡/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-14') !== -1) {\n    'æ‚å¿—&çŸ­ç¯‡/æ—¥è¯­';\n} else if (result[0].indexOf('cate-18') !== -1) {\n     'æ‚å¿—&çŸ­ç¯‡/English';\n} else if (result[0].indexOf('cate-20') !== -1) {\n    'éŸ©æ¼«/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-21') !== -1) {\n    'éŸ©æ¼«/ç”Ÿè‚‰';\n} else {\n    ''; \n}",
      "name": "//div[@class='info']/div[@class='title']/a//text()@js:\nconst bookname= result.split('\\n').join('').replace(/^.*?]/g, '')\nbookname",
      "wordCount": "//li/div[@class='info']/div[@class='info_col']/text()@js:\nvar imgNum = result.split(\"ï¼Œ\")[0].match(/\\d+(?=å¼µåœ–ç‰‡)/g)[0]\nimgNum+'é¡µ'"
    },
    "ruleToc": {
      "chapterList": "//div[@class='gallary_wrap tb']/ul/li[1]@js:\nvar imgInfoList = [];\nvar nextPageUrl = [];\n\n// 1. å¤„ç†åˆ†é¡µURLï¼ˆä¿ç•™æœ‰æ•ˆé€»è¾‘ï¼‰\nvar rawHrefs = java.getString(\"//div[@class='f_left paginator']/a/@href\") || \"\";\nnextPageUrl = rawHrefs.split('\\n').filter(x => x.trim());\nnextPageUrl = nextPageUrl.map(x => {\n    var url = x.trim();\n    while (url.startsWith(\"/\")) {\n        url = url.slice(1);\n    }\n    return url.startsWith(\"http\") ? url : \"https://www.wnacg.ru/\" + url;\n});\nnextPageUrl.unshift(baseUrl);\n\n// 2. æ ¸å¿ƒå·¥å…·å‡½æ•°ï¼šé¢„å¤„ç†HTMLï¼ˆç§»é™¤æ³¨é‡Š+æ¸…ç†ç©ºæ ¼ï¼‰\nfunction cleanHtml(html) {\n    if (!html) return \"\";\n    // æ­¥éª¤1ï¼šç§»é™¤æ‰€æœ‰HTMLæ³¨é‡Šï¼ˆ<!-- ... -->ï¼‰ï¼Œå½»åº•æ¶ˆé™¤å¹²æ‰°\n    html = html.replace(/<!--[\\s\\S]*?-->/g, \"\");\n    // æ­¥éª¤2ï¼šç§»é™¤å¤šä½™ç©ºç™½å­—ç¬¦ï¼ˆæ¢è¡Œã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ï¼Œç®€åŒ–åŒ¹é…\n    html = html.replace(/\\s+/g, \" \");\n    return html;\n}\n\n// 3. æ ¸å¿ƒå·¥å…·å‡½æ•°ï¼šæå–å•é¡µçš„â€œåºå·æ•°ç»„â€å’Œâ€œå›¾ç‰‡srcæ•°ç»„â€\nfunction extractPageData(cleanedHtml) {\n    var names = []; // åºå·æ•°ç»„ï¼ˆ001ã€002ã€003...ï¼‰\n    var srcs = [];  // å›¾ç‰‡srcæ•°ç»„ï¼ˆä¸åºå·ä¸€ä¸€å¯¹åº”ï¼‰\n\n    // æå–æ‰€æœ‰åºå·ï¼ˆ<span class=\"name tb\">xxx</span>ï¼‰\n    var nameRegex = /<span class=\"name tb\">([\\d]+)<\\/span>/g;\n    var nameMatch;\n    while ((nameMatch = nameRegex.exec(cleanedHtml)) !== null) {\n        names.push(nameMatch[1]);\n    }\n\n    // æå–æ‰€æœ‰æœ‰æ•ˆå›¾ç‰‡srcï¼ˆä¸åºå·å¯¹åº”çš„imgï¼ŒaltåŒ…å«â€œ_åºå·â€ï¼‰\n    var srcRegex = /<img src=\"([^\"]+)\" alt=\"[^\"]+_([\\d]+)\"/g;\n    var srcMatch;\n    while ((srcMatch = srcRegex.exec(cleanedHtml)) !== null) {\n        // ç¡®ä¿srcå¯¹åº”çš„åºå·åœ¨namesæ•°ç»„ä¸­ï¼ˆé¿å…æ— å…³å›¾ç‰‡ï¼‰\n        if (names.includes(srcMatch[2])) {\n            srcs.push(srcMatch[1]);\n        }\n    }\n\n    return { names: names, srcs: srcs };\n}\n\n// 4. æ‰§è¡Œå¤šé¡µæå–\ntry {\n    for (var p = 0; p < nextPageUrl.length; p++) {\n        var pageUrl = nextPageUrl[p];\n        var pageNum = p + 1;\n\n        // æ­¥éª¤1ï¼šè·å–å¹¶æ¸…ç†HTMLï¼ˆç§»é™¤æ³¨é‡Š+å¤šä½™ç©ºæ ¼ï¼‰\n        var rawHtml = new String(java.ajax(pageUrl)) || \"\";\n        var cleanedHtml = cleanHtml(rawHtml);\n\n        // æ­¥éª¤2ï¼šæå–å½“å‰é¡µçš„åºå·å’Œsrcæ•°ç»„\n        var pageData = extractPageData(cleanedHtml);\n        var pageNames = pageData.names;\n        var pageSrcs = pageData.srcs;\n\n        // æ­¥éª¤3ï¼šæŒ‰ç´¢å¼•é…å¯¹ï¼ˆåºå·å’Œsrcä¸€ä¸€å¯¹åº”ï¼‰ï¼Œé¿å…æ¼é…\n        var addedNum = 0;\n        for (var i = 0; i < pageNames.length; i++) {\n            var imgName = pageNames[i];\n            var imgSrc = pageSrcs[i] || \"\";\n            var imgExtension = \"\";\n\n            // æå–æ‰©å±•å\n            if (imgSrc) {\n                var dotIndex = imgSrc.lastIndexOf(\".\");\n                if (dotIndex !== -1) {\n                    imgExtension = imgSrc.slice(dotIndex + 1).toLowerCase().split(/[?#]/)[0];\n                }\n            }\n\n            // å»é‡å¹¶æ·»åŠ åˆ°æ•°ç»„\n            if (imgName && imgExtension && !imgInfoList.some(item => item.imgName === imgName)) {\n                imgInfoList.push({ imgName: imgName, imgExtension: imgExtension });\n                addedNum++;\n            }\n        }\n\n    }\n} catch (e) {\n    java.log(\"æå–æŠ¥é”™ï¼š\" + e.message);\n}\n\nimgInfoList.sort((a, b) => parseInt(a.imgName) - parseInt(b.imgName));\n\n// è¿”å›åŸç»“æœï¼Œä¸å½±å“ç›®å½•åˆ—è¡¨\njava.put('imgInfoList',JSON.stringify(imgInfoList))\nresult;",
      "chapterName": "//li/text()@js:'å…¨è¯é˜…è¯»'",
      "chapterUrl": "//li//a/@href,{\"webView\":true}",
      "updateTime": "//li/div[@class='info']/div[@class='info_col']/text()"
    },
    "searchUrl": "https://www.wnacg.ru/search/?q={{key}}&f=_all&s=create_time_DESC&syn=yes",
    "weight": 500
  },
  {
    "bookSourceGroup": "ğŸ”æ¼«ç”»",
    "bookSourceName": "ğŸ”Kæ¼«( éŸ©æ¼«+ )",
    "bookSourceType": 2,
    "bookSourceUrl": "https://kmh004.net",
    "customOrder": 474,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[\n  {\n    \"title\": \"ğŸ”–æ¼«ç”»çŠ¶æ€ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"è¿è½½ä¸­\",\n    \"url\": \"https://kmh004.net/api/comic?tag=&status=ongoing&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å·²å®Œç»“\",\n    \"url\": \"https://kmh004.net/api/comic?tag=&status=complete&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ğŸ”–ç±»å‹ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"æˆå‰§\",\n    \"url\": \"https://kmh004.net/category?tag=%E6%88%8F%E5%89%A7&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å‰§æƒ…\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%89%A7%E6%83%85%20&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å‰§æƒ…\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%89%A7%E6%83%85%20&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"çˆ±æƒ…\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%20%E6%B5%AA%E6%BC%AB%E7%88%B1%E6%83%85&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"è‚‰æ¬²\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E8%82%89%E6%AC%B2&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"æ­£å¦¹\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E6%AD%A3%E5%A6%B9&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"åå®«\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%90%8E%E5%AE%AB&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"æ¬²æœ›\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E6%AC%B2%E6%9C%9B&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"è°ƒæ•™\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E8%B0%83%E6%95%99&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å·¨ä¹³\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%B7%A8%E4%B9%B3&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å¥³å¤§ç”Ÿ\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%A5%B3%E5%A4%A7%E7%94%9F&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸ä¼¦\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E4%B8%8D%E4%BC%A6&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å§å§\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%A7%90%E5%A7%90&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å§å¦¹\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E5%A7%90%E5%A6%B9&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"NTR\",\n    \"url\": \"https://kmh004.net/api/comic?tag=NTR&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"æ”»ç•¥\",\n    \"url\": \"https://kmh004.net/api/comic?tag=%E6%94%BB%E7%95%A5&status=&current={{page}}\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  }\n]",
    "lastUpdateTime": 1763890541114,
    "loginUi": "[\n    {\n        \"name\": \"è´¦å·\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"å¯†ç \",\n        \"type\": \"password\"\n    }\n]",
    "loginUrl": "<js>\nvar login = () => {\n    var username = source.getLoginInfoMap().get(\"è´¦å·\");\n    var password = source.getLoginInfoMap().get(\"å¯†ç \");\n    var res = java.post(\n      'https://kmh004.net/login',\n        JSON.stringify({\n            1_email: username,\n            1_password: password,\n        }),\n        {\"Content-Type\": \"application/json\"}\n    );\n    source.putLoginHeader(JSON.stringify({\n        Authorization: `Bearer ${res.body()}`\n    }));\n}\nlogin();\n</js>",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "span.truncate@text",
      "coverUrl": "//div[@class='swiper-wrapper']//div[1]/img/@src",
      "intro": "p@text",
      "kind": "span.p-1@text",
      "name": "h1@text"
    },
    "ruleContent": {
      "content": "//script[contains(text(), 'images') and contains(text(), 'self.__next_f.push')]\n@js:result.match(/https:\\/\\/img.ozv.me\\/d\\/file[^\"]*?\\.jpg/g)\n.map(x=>'<img src=\\\"'+x+'\\\">').join(\"\\n\")",
      "imageStyle": "FULL"
    },
    "ruleExplore": {
      "author": "$.authors",
      "bookList": "$.records",
      "bookUrl": "https://kmh004.net/comic/{{$._id}}",
      "coverUrl": "$.cover",
      "intro": "$.descriptionTW",
      "kind": "$.tags",
      "name": "$.name"
    },
    "ruleSearch": {
      "bookList": "//a[starts-with(@href,'/comic')]",
      "bookUrl": "@href",
      "checkKeyWord": "å§å§",
      "kind": "//h4[contains(@class, 'text-sm') and contains(@class, 'text-gray-500')]/text()@js:\n// æ­¥éª¤1ï¼šå…¼å®¹è¾“å…¥ï¼Œç»Ÿä¸€è½¬ä¸ºæ•°ç»„ï¼ˆæ ¸å¿ƒï¼šæŒ‰ç´¢å¼•è®¿é—®ï¼Œä¸ç”¨ä»»ä½•æ–¹æ³•ï¼‰\nvar originArr = [];\nif (Object.prototype.toString.call(result) === \"[object Array]\") {\n    originArr = result;\n} else {\n    originArr = [result || \"\"]; // éæ•°ç»„å¼ºåˆ¶è½¬ä¸ºæ•°ç»„\n}\n\n// æ­¥éª¤2ï¼šå–å‡ºåŸå§‹åˆ†ç±»é¡¹ï¼ˆæŒ‰ç´¢å¼•å–ç¬¬1ä¸ªå…ƒç´ ï¼Œä¸ç”¨ä»»ä½•æ–¹æ³•ï¼‰\nvar originTag = originArr[0] || \"\";\n\n// æ­¥éª¤3ï¼šæ‰‹åŠ¨æ¸…ç†å‰åç©ºæ ¼ï¼ˆçº¯ç´¢å¼•+å­—ç¬¦ä¸²ç´¯åŠ ï¼Œä¸ç”¨charAt/substringï¼‰\nvar cleanTag = \"\";\nvar startIdx = 0;\nvar endIdx = 0;\nvar tagLen = 0;\n\n// ç¬¬ä¸€æ­¥ï¼šè®¡ç®—â€œå­—ç¬¦ä¸²â€é•¿åº¦ï¼ˆéå†åˆ°undefinedä¸ºæ­¢ï¼Œä¸ç”¨lengthå±æ€§ï¼‰\nwhile (originTag[tagLen] !== undefined) {\n    tagLen++;\n}\n\n// ç¬¬äºŒæ­¥ï¼šæ‰¾åˆ°å¼€å¤´éç©ºæ ¼çš„ç´¢å¼•\nwhile (startIdx < tagLen) {\n    var sChar = originTag[startIdx];\n    if (sChar !== \" \" && sChar !== \"\\t\" && sChar !== \"\\n\") {\n        break;\n    }\n    startIdx++;\n}\n\n// ç¬¬ä¸‰æ­¥ï¼šæ‰¾åˆ°ç»“å°¾éç©ºæ ¼çš„ç´¢å¼•\nendIdx = tagLen - 1;\nwhile (endIdx >= startIdx) {\n    var eChar = originTag[endIdx];\n    if (eChar !== \" \" && eChar !== \"\\t\" && eChar !== \"\\n\") {\n        break;\n    }\n    endIdx--;\n}\n\n// ç¬¬å››æ­¥ï¼šç´¯åŠ æœ‰æ•ˆå­—ç¬¦ï¼ˆçº¯ç´¢å¼•+å­—ç¬¦ä¸²æ‹¼æ¥ï¼‰\nif (startIdx <= endIdx) {\n    for (var i = startIdx; i <= endIdx; i++) {\n        cleanTag += originTag[i];\n    }\n}\n\n// æ­¥éª¤4ï¼šå°†ç©ºæ ¼åˆ†éš”è½¬ä¸ºé€—å·åˆ†éš”ï¼ˆçº¯ç´¢å¼•+ç´¯åŠ ï¼Œä¸ç”¨split/replaceï¼‰\nvar commaTag = \"\";\nvar cleanLen = 0;\n// è®¡ç®—cleanTagé•¿åº¦\nwhile (cleanTag[cleanLen] !== undefined) {\n    cleanLen++;\n}\n// éå†æ›¿æ¢ç©ºæ ¼ä¸ºé€—å·\nfor (var j = 0; j < cleanLen; j++) {\n    var cChar = cleanTag[j];\n    if (cChar === \" \") {\n        commaTag += \",\"; // ç©ºæ ¼æ¢æˆé€—å·\n    } else {\n        commaTag += cChar; // å…¶ä»–å­—ç¬¦ç›´æ¥ç´¯åŠ \n    }\n}\n\n// æ­¥éª¤5ï¼šæ‹¼æ¥Kæ¼«ç”»å‰ç¼€\nvar finalTag = \"Kæ¼«\";\nif (commaTag !== \"\") {\n    finalTag += \",\" + commaTag;\n}\n\n// æ­¥éª¤6ï¼šè¿”å›æ•°ç»„æ ¼å¼ï¼ˆä¸åŸè¾“å…¥ç»“æ„ä¸€è‡´ï¼‰\n[finalTag];",
      "name": "h3.text-xl.font-bold@text"
    },
    "ruleToc": {
      "chapterList": "//a[starts-with(@href,'/chapter')]",
      "chapterName": "span.text-xl@text&&span.text-base@text",
      "chapterUrl": "@href",
      "updateTime": "span.text-sm@text"
    },
    "searchUrl": "https://kmh004.net/search?key={{key}},{\n\"webView\":true\n}",
    "weight": 50
  }
]
